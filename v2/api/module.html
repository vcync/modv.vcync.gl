<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Module | modV</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="modular audio visualisation powered by JavaScript">
    <link rel="preload" href="/assets/css/0.styles.6023e61c.css" as="style"><link rel="preload" href="/assets/js/app.f10fa96b.js" as="script"><link rel="preload" href="/assets/js/2.dc62889d.js" as="script"><link rel="preload" href="/assets/js/13.58e01a9d.js" as="script"><link rel="prefetch" href="/assets/js/10.9595c3c1.js"><link rel="prefetch" href="/assets/js/11.26665d5b.js"><link rel="prefetch" href="/assets/js/12.53be4517.js"><link rel="prefetch" href="/assets/js/14.4e7689ba.js"><link rel="prefetch" href="/assets/js/15.9a6a7905.js"><link rel="prefetch" href="/assets/js/16.481a0bfa.js"><link rel="prefetch" href="/assets/js/17.fb8d4ea9.js"><link rel="prefetch" href="/assets/js/18.bf332940.js"><link rel="prefetch" href="/assets/js/19.38109fa4.js"><link rel="prefetch" href="/assets/js/20.aec1d73f.js"><link rel="prefetch" href="/assets/js/21.c5868fbb.js"><link rel="prefetch" href="/assets/js/22.68bf1596.js"><link rel="prefetch" href="/assets/js/23.208dc496.js"><link rel="prefetch" href="/assets/js/24.7e6edb1a.js"><link rel="prefetch" href="/assets/js/25.5b849ae8.js"><link rel="prefetch" href="/assets/js/26.dccae9d0.js"><link rel="prefetch" href="/assets/js/27.388e4ad8.js"><link rel="prefetch" href="/assets/js/28.f6adb2c6.js"><link rel="prefetch" href="/assets/js/29.8d81afce.js"><link rel="prefetch" href="/assets/js/3.b43c407f.js"><link rel="prefetch" href="/assets/js/30.84ee6c23.js"><link rel="prefetch" href="/assets/js/31.8b850c6d.js"><link rel="prefetch" href="/assets/js/32.6aad7565.js"><link rel="prefetch" href="/assets/js/33.d0c5f518.js"><link rel="prefetch" href="/assets/js/4.48cf43dd.js"><link rel="prefetch" href="/assets/js/5.e17189a0.js"><link rel="prefetch" href="/assets/js/6.47794f67.js"><link rel="prefetch" href="/assets/js/7.ec5358cc.js"><link rel="prefetch" href="/assets/js/8.7c950f68.js"><link rel="prefetch" href="/assets/js/9.8e088084.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6023e61c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">modV</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/2xaa/modV/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Version" class="dropdown-title"><span class="title">Version</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v3/guide/" class="nav-link">
  v3
</a></li><li class="dropdown-item"><!----> <a href="/v2/guide/" class="nav-link">
  v2
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/2xaa/modV/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Version" class="dropdown-title"><span class="title">Version</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v3/guide/" class="nav-link">
  v3
</a></li><li class="dropdown-item"><!----> <a href="/v2/guide/" class="nav-link">
  v2
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/v2/guide/" class="sidebar-heading clickable"><span>Guide</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/v2/guide/" class="sidebar-link">Getting Started</a></li><li><a href="/v2/guide/audioRouting.html" class="sidebar-link">Audio Routing</a></li><li><a href="/v2/guide/coreConcepts.html" class="sidebar-link">Core Concepts</a></li><li><a href="/v2/guide/mediaManager.html" class="sidebar-link">Media Manager</a></li><li><a href="/v2/guide/usingTheExpressionEditor.html" class="sidebar-link">Using the Expression Editor</a></li><li><a href="/v2/guide/writingA2DModule.html" class="sidebar-link">Writing a 2D Module</a></li><li><a href="/v2/guide/writingAShaderModule.html" class="sidebar-link">Writing a Shader Module</a></li><li><a href="/v2/guide/writingAnIsfModule.html" class="sidebar-link">Writing an ISF Module</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/v2/api/" class="sidebar-heading clickable router-link-active open"><span>API Reference</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/v2/api/module.html" aria-current="page" class="active sidebar-link">Module</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v2/api/module.html#lifecycle" class="sidebar-link">Lifecycle</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#meta" class="sidebar-link">meta</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v2/api/module.html#meta-type" class="sidebar-link">meta.type</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#meta-name" class="sidebar-link">meta.name</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#meta-author" class="sidebar-link">meta.author</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#meta-version" class="sidebar-link">meta.version</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#meta-previewwithoutput" class="sidebar-link">meta.previewWithOutput</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#meta-audiofeatures" class="sidebar-link">meta.audioFeatures</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#example-meta-block" class="sidebar-link">Example meta block</a></li></ul></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#props" class="sidebar-link">props</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v2/api/module.html#props-varname" class="sidebar-link">props[varname]</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#props-varname-type" class="sidebar-link">props[varname].type</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#props-varname-label" class="sidebar-link">props[varname].label</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#props-varname-default" class="sidebar-link">props[varname].default</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#props-varname-random" class="sidebar-link">props[varname].random</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#props-varname-min" class="sidebar-link">props[varname].min</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#props-varname-max" class="sidebar-link">props[varname].max</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#props-varname-strict" class="sidebar-link">props[varname].strict</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#props-varname-abs" class="sidebar-link">props[varname].abs</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#example-props-block" class="sidebar-link">Example props block</a></li></ul></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#grouped-props" class="sidebar-link">Grouped props</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v2/api/module.html#props-value-props" class="sidebar-link">props[value].props</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#props-value-default" class="sidebar-link">props[value].default</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#example-grouped-props-block" class="sidebar-link">Example grouped props block</a></li></ul></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#defining-a-specific-control" class="sidebar-link">Defining a specific control</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v2/api/module.html#props-varname-control" class="sidebar-link">props[varname].control</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#props-varname-control-type" class="sidebar-link">props[varname].control.type</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#props-varname-control-options" class="sidebar-link">props[varname].control.options</a></li></ul></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#data" class="sidebar-link">data</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#init" class="sidebar-link">init</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#resize" class="sidebar-link">resize</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#draw" class="sidebar-link">draw</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#store-reference" class="sidebar-link">Store Reference</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#getters" class="sidebar-link">Getters</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-focusedmodule" class="sidebar-link">modvModules/focusedModule</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-focusedmodulename" class="sidebar-link">modvModules/focusedModuleName</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-registry" class="sidebar-link">modvModules/registry</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-active" class="sidebar-link">modvModules/active</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-outerregistry" class="sidebar-link">modvModules/outerRegistry</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-outeractive" class="sidebar-link">modvModules/outerActive</a></li></ul></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#actions" class="sidebar-link">Actions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-register" class="sidebar-link">modvModules.register()</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-createactivemodule" class="sidebar-link">modvModules.createActiveModule()</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-removeactivemodule" class="sidebar-link">modvModules.removeActiveModule()</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-resizeactive" class="sidebar-link">modvModules.resizeActive()</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-updateprop" class="sidebar-link">modvModules.updateProp()</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-syncpropqueue" class="sidebar-link">modVModules.syncPropQueue()</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-updatemeta" class="sidebar-link">modvModules.updateMeta()</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-syncmetaqueue" class="sidebar-link">modVModules.syncMetaQueue()</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-syncqueues" class="sidebar-link">modVModules.syncQueues()</a></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#modvmodules-presetdata" class="sidebar-link">modVModules.presetData()</a></li></ul></li><li class="sidebar-sub-header"><a href="/v2/api/module.html#mutations" class="sidebar-link">Mutations</a></li></ul></li><li><a href="/v2/api/renderer.html" class="sidebar-link">Renderer</a></li><li><a href="/v2/api/plugin.html" class="sidebar-link">Plugin</a></li><li><a href="/v2/api/control.html" class="sidebar-link">Control</a></li><li><a href="/v2/api/palette.html" class="sidebar-link">Palette</a></li><li><a href="/v2/api/contextMenu.html" class="sidebar-link">Context Menu</a></li><li><a href="/v2/api/mediaManager.html" class="sidebar-link">Media Manager</a></li><li><a href="/v2/api/mediaManagerClient.html" class="sidebar-link">Media Manager Client</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="module"><a href="#module" class="header-anchor">#</a> Module</h1> <p>modV defines its own module structure.</p> <p>There are currently three types of module: <code>2d</code>, <code>shader</code> and <code>isf</code>.</p> <h2 id="lifecycle"><a href="#lifecycle" class="header-anchor">#</a> Lifecycle</h2> <ul><li>Module registered using <code>modV.register()</code> <ul><li>Gallery item for the registered Module is created</li></ul></li> <li>Gallery Item is dragged from the Gallery to a Layer
<ul><li>An active Module is created (mutation: <code>modVModules/createActiveModule</code>)</li></ul></li> <li>Active Module is dragged from a Layer back to the Gallery
<ul><li>Active Module is removed (mutation: <code>modVModules/removeActiveModule</code>)</li></ul></li></ul> <h2 id="meta"><a href="#meta" class="header-anchor">#</a> meta</h2> <ul><li>Applies to: <code>2d</code>, <code>shader</code>, <code>isf</code></li></ul> <p>Describes the Module.</p> <h3 id="meta-type"><a href="#meta-type" class="header-anchor">#</a> meta.type</h3> <ul><li>Type: <code>string</code></li> <li>Default: <code>undefined</code></li></ul> <p>Describes the Module type.<br>
Valid types are <code>2d | shader |isf</code>.</p> <h3 id="meta-name"><a href="#meta-name" class="header-anchor">#</a> meta.name</h3> <ul><li>Type: <code>string</code></li> <li>Default: <code>undefined</code></li></ul> <p>Sets the Module name.</p> <h3 id="meta-author"><a href="#meta-author" class="header-anchor">#</a> meta.author</h3> <ul><li>Type: <code>string</code></li> <li>Default: <code>undefined</code></li></ul> <p>Sets the Module author.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p><code>isf</code> type Modules will ignore this value if defined in the ISF JSON block</p></div> <h3 id="meta-version"><a href="#meta-version" class="header-anchor">#</a> meta.version</h3> <ul><li>Type: <code>string</code></li> <li>Default: <code>undefined</code></li></ul> <p>Sets the Module version.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Module versions are saved into Preset data. modV will check and warn the user of differing Module versions when loading Preset data</p></div> <h3 id="meta-previewwithoutput"><a href="#meta-previewwithoutput" class="header-anchor">#</a> meta.previewWithOutput</h3> <p>(optional)</p> <ul><li>Type: <code>boolean</code></li> <li>Default: <code>undefined</code></li></ul> <p>If <code>true</code> the gallery preview will pass the current output of modV into the Module's <code>draw</code> Function.</p> <h3 id="meta-audiofeatures"><a href="#meta-audiofeatures" class="header-anchor">#</a> meta.audioFeatures</h3> <p>(optional)</p> <ul><li>Type: <code>array</code></li> <li>Default: <code>undefined</code></li></ul> <p>Audio features to be returned from Meyda. Please see <a href="https://github.com/meyda/meyda/wiki/audio-features" target="_blank" rel="noopener noreferrer">Meyda's Wiki for a list of available audio features<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and their descriptions.</p> <h3 id="example-meta-block"><a href="#example-meta-block" class="header-anchor">#</a> Example meta block</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  meta<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 2d, shader, isf</span>
    name<span class="token operator">:</span> <span class="token string">'Sample module'</span><span class="token punctuation">,</span>
    author<span class="token operator">:</span> <span class="token string">'Author name'</span><span class="token punctuation">,</span>
    version<span class="token operator">:</span> <span class="token string">'0.0.1'</span><span class="token punctuation">,</span>
    previewWithOutput<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// optional</span>
    audioFeatures<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'energy'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// optional</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="props"><a href="#props" class="header-anchor">#</a> props</h2> <ul><li>Applies to: <code>2d</code>, <code>shader</code>, <code>isf</code></li></ul> <p>The props Object describes the Controls modV will render for the Module.</p> <p>The <code>isf</code> Module type automatically generates Controls for its uniforms, however they can be overridden with definitions on the props Object.</p> <h3 id="props-varname"><a href="#props-varname" class="header-anchor">#</a> props[varname]</h3> <ul><li>Type: <code>object</code></li> <li>Default: <code>undefined</code></li></ul> <p>The variable on the Module's scope to write to, e.g.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// meta: ...</span>

  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    varname<span class="token operator">:</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Quirk</p> <p>For Module types <code>shader</code> and <code>isf</code>, the <code>varname</code> maps directly to the uniform name.</p></div> <h3 id="props-varname-type"><a href="#props-varname-type" class="header-anchor">#</a> props[varname].type</h3> <ul><li>Type: <code>string</code></li> <li>Default: <code>undefined</code></li></ul> <p>Describes the variable type.<br>
Valid types are <code>int | float | bool | color | vec2 | vec3 | vec4</code>.</p> <ul><li><code>int | float</code> will generate a Range Control</li> <li><code>bool</code> will generate a Checkbox Control</li> <li><code>color</code> will generate a Color Control</li> <li><code>vec2 | vec3 | vec4</code> ???</li></ul> <p>The default control generation can be overridden by setting the <code>props[varname].control</code> property.</p> <h3 id="props-varname-label"><a href="#props-varname-label" class="header-anchor">#</a> props[varname].label</h3> <p>(optional)</p> <ul><li>Type: <code>string</code></li> <li>Default: <code>undefined</code></li></ul> <p>The Control's label. If not set, the prop's <code>varname</code> will be used.</p> <h3 id="props-varname-default"><a href="#props-varname-default" class="header-anchor">#</a> props[varname].default</h3> <p>(optional)</p> <ul><li>Type: <code>any</code></li> <li>Default: <code>undefined</code></li></ul> <p>Default value for the Control and variable on the Module's scope.</p> <h3 id="props-varname-random"><a href="#props-varname-random" class="header-anchor">#</a> props[varname].random</h3> <p>(optional)</p> <ul><li>Type: <code>boolean</code></li> <li>Default: <code>undefined</code></li></ul> <p>If set and <code>default</code> is an Array, a random value from the Array will be used on the Module's creation.</p> <h3 id="props-varname-min"><a href="#props-varname-min" class="header-anchor">#</a> props[varname].min</h3> <p>(optional)</p> <ul><li>Type: <code>number</code></li> <li>Default: <code>undefined</code></li> <li>Applies to types: <code>int | float | vec2 | vec3 | vec4</code></li></ul> <p>Sets the Control's minimum value.</p> <h3 id="props-varname-max"><a href="#props-varname-max" class="header-anchor">#</a> props[varname].max</h3> <p>(optional)</p> <ul><li>Type: <code>number</code></li> <li>Default: <code>undefined</code></li> <li>Applies to types: <code>int | float | vec2 | vec3 | vec4</code></li></ul> <p>Sets the Control's maximum value.</p> <h3 id="props-varname-strict"><a href="#props-varname-strict" class="header-anchor">#</a> props[varname].strict</h3> <p>(optional)</p> <ul><li>Type: <code>boolean</code></li> <li>Default: <code>undefined</code></li> <li>Applies to types: <code>int | float | vec2 | vec3 | vec4</code></li></ul> <p>Constrains the Control between the <code>min</code> and <code>max</code> values if set.</p> <h3 id="props-varname-abs"><a href="#props-varname-abs" class="header-anchor">#</a> props[varname].abs</h3> <p>(optional)</p> <ul><li>Type: <code>boolean</code></li> <li>Default: <code>undefined</code></li> <li>Applies to types: <code>int | float | vec2 | vec3 | vec4</code></li></ul> <p>Applies <code>Math.abs</code> to the value(s) to keep the value positive.</p> <h3 id="example-props-block"><a href="#example-props-block" class="header-anchor">#</a> Example props block</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// meta: ...</span>

  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    energyIntensity<span class="token operator">:</span> <span class="token punctuation">{</span>
      label<span class="token operator">:</span> <span class="token string">'Energy Intensity'</span><span class="token punctuation">,</span>
      type<span class="token operator">:</span> <span class="token string">'float'</span><span class="token punctuation">,</span>
      min<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      max<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      strict<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="grouped-props"><a href="#grouped-props" class="header-anchor">#</a> Grouped props</h2> <p>To create grouped props, use the <code>group</code> type.</p> <h3 id="props-value-props"><a href="#props-value-props" class="header-anchor">#</a> props[value].props</h3> <ul><li>Type: <code>object</code></li> <li>Default: <code>undefined</code></li> <li>Applies to types: <code>group</code></li></ul> <h3 id="props-value-default"><a href="#props-value-default" class="header-anchor">#</a> props[value].default</h3> <ul><li>Type: <code>number</code></li> <li>Default: <code>undefined</code></li> <li>Applies to types: <code>group</code></li></ul> <h3 id="example-grouped-props-block"><a href="#example-grouped-props-block" class="header-anchor">#</a> Example grouped props block</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// meta: ...</span>

  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    ball<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">'group'</span><span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      props<span class="token operator">:</span> <span class="token punctuation">{</span>
        size<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">'float'</span><span class="token punctuation">,</span>
          <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        color<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">'color'</span><span class="token punctuation">,</span>
          <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'pink'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="defining-a-specific-control"><a href="#defining-a-specific-control" class="header-anchor">#</a> Defining a specific control</h2> <p>It is possible to override an inbuilt control for a Module prop. To do this, add the <code>control</code> key onto the prop definition.</p> <h3 id="props-varname-control"><a href="#props-varname-control" class="header-anchor">#</a> props[varname].control</h3> <p>(optional)</p> <ul><li>Type: <code>object</code></li> <li>Default: <code>undefined</code></li></ul> <p>Sets a custom control type for the prop.</p> <h3 id="props-varname-control-type"><a href="#props-varname-control-type" class="header-anchor">#</a> props[varname].control.type</h3> <ul><li>Type: <code>string</code></li> <li>Default: <code>undefined</code></li></ul> <p>The name of the Control's component.
Built-in types are: <code>paletteControl</code>.</p> <h3 id="props-varname-control-options"><a href="#props-varname-control-options" class="header-anchor">#</a> props[varname].control.options</h3> <ul><li>Type: <code>object</code></li> <li>Default: <code>undefined</code></li></ul> <p>Options passed to the Control.<br>
Refer to the Control's documentation for a list of properties.</p> <h2 id="data"><a href="#data" class="header-anchor">#</a> data</h2> <ul><li>Applies to: <code>2d</code></li></ul> <p>The data Object defines default values on the Module's scope.</p> <p>Essentially it's shorthand instead using the <code>init</code> Function, i.e.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// meta: ...</span>
  <span class="token comment">// props: ...</span>

  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    hue<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// this is the same thing, just a little more markup</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="init"><a href="#init" class="header-anchor">#</a> init</h2> <ul><li>Applies to: <code>2d</code></li></ul> <p>Init is called when the Module is registered with modV.</p> <p>This can be used to set up the Module. An example of this can be found in <a href="https://github.com/2xAA/modV/blob/2.0-drawloop/src/modv/sample-modules/Ball-2.0.js#L96" target="_blank" rel="noopener noreferrer">Ball.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// meta: ...</span>
  <span class="token comment">// props: ...</span>
  <span class="token comment">// data: ...</span>

  <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> canvas <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>internalCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>internalCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="resize"><a href="#resize" class="header-anchor">#</a> resize</h2> <ul><li>Applies to: <code>2d</code></li></ul> <p>Resize is called when the largest Output Window is resized.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// meta: ...</span>
  <span class="token comment">// props: ...</span>
  <span class="token comment">// data: ...</span>
  <span class="token comment">// init() { ... }</span>

  <span class="token function">resize</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> canvas <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>internalCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>internalCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="draw"><a href="#draw" class="header-anchor">#</a> draw</h2> <ul><li>Applies to: <code>2d</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// meta: ...</span>
  <span class="token comment">// props: ...</span>
  <span class="token comment">// data: ...</span>
  <span class="token comment">// init() { ... }</span>
  <span class="token comment">// resize() { ... }</span>

  <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    canvas<span class="token punctuation">,</span> <span class="token comment">// the current canvas</span>
    context<span class="token punctuation">,</span> <span class="token comment">// the current context</span>
    video<span class="token punctuation">,</span> <span class="token comment">// HTMLVideoElement displaying a webcam feed</span>
    features<span class="token punctuation">,</span> <span class="token comment">// object containing features requested from meta.audioFeatures</span>
    meyda<span class="token punctuation">,</span> <span class="token comment">// the Meyda instance</span>
    delta<span class="token punctuation">,</span> <span class="token comment">// the rAF deltatime</span>
    bpm<span class="token punctuation">,</span> <span class="token comment">// the current BPM</span>
    kick<span class="token punctuation">,</span> <span class="token comment">// boolean bass drum/kick detection</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* some draw code... */</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="store-reference"><a href="#store-reference" class="header-anchor">#</a> Store Reference</h2> <p>This reference documents the Module store module used within modV.</p> <p>The Module store's structure:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  registry<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  active<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  activePropQueue<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  activeMetaQueue<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  focusedModule<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  currentDragged<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="getters"><a href="#getters" class="header-anchor">#</a> Getters</h2> <h3 id="modvmodules-focusedmodule"><a href="#modvmodules-focusedmodule" class="header-anchor">#</a> modvModules/focusedModule</h3> <ul><li>Returns: <code>object</code></li></ul> <p>The current focused Module in the Layer view.</p> <h3 id="modvmodules-focusedmodulename"><a href="#modvmodules-focusedmodulename" class="header-anchor">#</a> modvModules/focusedModuleName</h3> <ul><li>Returns: <code>string</code></li></ul> <p>The name of the current focused Module in the Layer view.</p> <h3 id="modvmodules-registry"><a href="#modvmodules-registry" class="header-anchor">#</a> modvModules/registry</h3> <ul><li>Returns: <code>object</code></li></ul> <p>All Modules registered with modV.</p> <h3 id="modvmodules-active"><a href="#modvmodules-active" class="header-anchor">#</a> modvModules/active</h3> <ul><li>Returns: <code>object</code></li></ul> <p>All Modules currently active within with modV. (i.e. being used in a layer or in the Gallery)</p> <div class="custom-block tip"><p class="custom-block-title">Quirk (outer store)</p> <p>Vuex cannot handle complex data structs such as HTMLCanvas or classes. The <em>&quot;outer store&quot;</em> contains synchronised information about the Module, yet can handle these complex datum without being a drain on performance or even crashing the browser entirely.</p> <p>Essentially with the Module store, the <code>active</code> and <code>registry</code> objects are simplified ghosts to the real <code>outer</code> store.</p></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>You should never attempt to modify data on the outer or inner stores directly as this can break the syncronisation. Use the <code>updateProp</code> and <code>updateMeta</code> actions defined on the Module store.</p></div> <h3 id="modvmodules-outerregistry"><a href="#modvmodules-outerregistry" class="header-anchor">#</a> modvModules/outerRegistry</h3> <ul><li>Returns: <code>object</code></li></ul> <p>All Modules registered with modV.</p> <h3 id="modvmodules-outeractive"><a href="#modvmodules-outeractive" class="header-anchor">#</a> modvModules/outerActive</h3> <ul><li>Returns: <code>object</code></li></ul> <p>All Modules currently active within with modV. (i.e. being used in a layer or in the Gallery)</p> <h2 id="actions"><a href="#actions" class="header-anchor">#</a> Actions</h2> <h3 id="modvmodules-register"><a href="#modvmodules-register" class="header-anchor">#</a> modvModules.register()</h3> <ul><li>Returns: <code>undefined</code></li></ul> <p>Register a module with modV.</p> <table><thead><tr><th>argument</th> <th>type</th> <th>default</th> <th>info</th></tr></thead> <tbody><tr><td>data</td> <td><code>object</code></td> <td><code>undefined</code></td> <td>The Module to register</td></tr></tbody></table> <h3 id="modvmodules-createactivemodule"><a href="#modvmodules-createactivemodule" class="header-anchor">#</a> modvModules.createActiveModule()</h3> <ul><li>Returns: <code>object</code> - the active module from <code>outerActive</code></li></ul> <table><thead><tr><th>argument (object)</th> <th>type</th> <th>default</th> <th>info</th></tr></thead> <tbody><tr><td>args.moduleName</td> <td><code>string</code></td> <td><code>undefined</code></td> <td>The Module name</td></tr> <tr><td>args.appendToName</td> <td><code>string</code></td> <td><code>undefined</code></td> <td>A string to append to the Module name</td></tr> <tr><td>args.skipInit</td> <td><code>boolean</code></td> <td><code>undefined</code></td> <td>Whether the Module should skip the call to <code>init</code> and <code>resize</code></td></tr> <tr><td>args.enabled</td> <td><code>boolean</code></td> <td><code>undefined</code></td> <td>Whether the Module should be enabled or not</td></tr></tbody></table> <h3 id="modvmodules-removeactivemodule"><a href="#modvmodules-removeactivemodule" class="header-anchor">#</a> modvModules.removeActiveModule()</h3> <ul><li>Returns: <code>undefined</code></li></ul> <table><thead><tr><th>argument (object)</th> <th>type</th> <th>default</th> <th>info</th></tr></thead> <tbody><tr><td>args.moduleName</td> <td><code>string</code></td> <td><code>undefined</code></td> <td>The Module name</td></tr></tbody></table> <h3 id="modvmodules-resizeactive"><a href="#modvmodules-resizeactive" class="header-anchor">#</a> modvModules.resizeActive()</h3> <ul><li>Returns: <code>undefined</code></li></ul> <p>Calls the resize function of all active modules.</p> <h3 id="modvmodules-updateprop"><a href="#modvmodules-updateprop" class="header-anchor">#</a> modvModules.updateProp()</h3> <ul><li>Returns: <code>undefined</code></li></ul> <p>Queues a prop update for a Module.</p> <table><thead><tr><th>argument (object)</th> <th>type</th> <th>default</th> <th>info</th></tr></thead> <tbody><tr><td>args.name</td> <td><code>string</code></td> <td><code>undefined</code></td> <td>The Module name</td></tr> <tr><td>args.prop</td> <td><code>string</code></td> <td><code>undefined</code></td> <td>The prop key</td></tr> <tr><td>args.data</td> <td><code>any</code></td> <td><code>undefined</code></td> <td>The data to write to the prop</td></tr></tbody></table> <h3 id="modvmodules-syncpropqueue"><a href="#modvmodules-syncpropqueue" class="header-anchor">#</a> modVModules.syncPropQueue()</h3> <ul><li>Returns: <code>undefined</code></li></ul> <p>Syncs props waiting in the queue. Called once a frame.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>modV automatically calls this action once a frame. It is unnecessary for this to be called manually.</p></div> <h3 id="modvmodules-updatemeta"><a href="#modvmodules-updatemeta" class="header-anchor">#</a> modvModules.updateMeta()</h3> <ul><li>Returns: <code>undefined</code></li></ul> <p>Queues a value update for a Module's meta block.</p> <table><thead><tr><th>argument (object)</th> <th>type</th> <th>default</th> <th>info</th></tr></thead> <tbody><tr><td>args.name</td> <td><code>string</code></td> <td><code>undefined</code></td> <td>The Module name</td></tr> <tr><td>args.metaKey</td> <td><code>string</code></td> <td><code>undefined</code></td> <td>The meta key</td></tr> <tr><td>args.data</td> <td><code>any</code></td> <td><code>undefined</code></td> <td>The data to write to the meta key</td></tr></tbody></table> <h3 id="modvmodules-syncmetaqueue"><a href="#modvmodules-syncmetaqueue" class="header-anchor">#</a> modVModules.syncMetaQueue()</h3> <ul><li>Returns: <code>undefined</code></li></ul> <p>Syncs meta waiting in the queue. Called once a frame.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>modV automatically calls this action once a frame. It is unnecessary for this to be called manually.</p></div> <h3 id="modvmodules-syncqueues"><a href="#modvmodules-syncqueues" class="header-anchor">#</a> modVModules.syncQueues()</h3> <ul><li>Returns: <code>undefined</code></li></ul> <p>Syncs all queues.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>modV automatically calls this action once a frame. It is unnecessary for this to be called manually.</p></div> <h3 id="modvmodules-presetdata"><a href="#modvmodules-presetdata" class="header-anchor">#</a> modVModules.presetData()</h3> <ul><li>Returns: <code>object</code></li></ul> <p>Generates data for Preset saving.</p> <h2 id="mutations"><a href="#mutations" class="header-anchor">#</a> Mutations</h2> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Using Mutations directly should be avoided for performance reasons. They are documented for reference only.</p></div> <p><strong>@todo: Document mutations</strong></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/v2/guide/writingAnIsfModule.html" class="prev">
        Writing an ISF Module
      </a></span> <span class="next"><a href="/v2/api/renderer.html">
        Renderer
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f10fa96b.js" defer></script><script src="/assets/js/2.dc62889d.js" defer></script><script src="/assets/js/13.58e01a9d.js" defer></script>
  </body>
</html>
